# 分镜师 - UI设计需求清单

> 本文档可直接用于UI设计工具（如Google Stitch）

---

## 1. 应用概述

**产品名称**: 分镜师
**产品类型**: 桌面应用（Tauri框架）
**目标用户**: 视频创作者、剪辑师、动画师
**核心功能**: AI驱动的分镜表生成与编辑工具

---

## 2. 整体布局结构

### 2.1 主界面布局（三栏布局）

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  MenuBar: 文件 | 配置 | 项目名 | [布局切换] | [─][□][✕]                     │
├──────────────┬──────────────────────────────────────────────────────────────┤
│              │  分镜表                                                     │
│   分镜表     │  ┌────┬────────┬────────┬────────┬──────────────────────────┐│
│   角色       │  │序号│  镜号  │镜头类型│  景别  │          画面描述         ││
│   场景       │  ├────┼────────┼────────┼────────┼──────────────────────────┤│
│   道具       │  │ 1  │   1    │  固定  │  远景  │  客厅全景...              ││
│              │  │ 2  │   2    │  推近  │  中景  │  主角...                  ││
│              │  └────┴────────┴────────┴────────┴──────────────────────────┘│
├──────────────┴──────────────────────────────────────────────────────────────┤
│  🤖 AI对话区                                                                │
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │ AI消息内容...                                                           ││
│  └─────────────────────────────────────────────────────────────────────────┘│
│  [输入框...] [发送]                                                         │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 布局比例

| 区域 | 宽度占比 | 说明 |
|------|----------|------|
| MenuBar | 高度 40px | 顶部菜单栏 |
| 左侧标签栏 | 12% | 竖排文字Tab |
| 中间内容区 | 65-70% | 表格展示区 |
| 右侧AI对话区 | 25-30% | 可隐藏 |

### 2.3 布局切换

- **三栏模式**: 完整视图（左侧+中间+右侧）
- **两栏模式**: 隐藏AI对话区（左侧+中间）

---

## 3. 界面清单

### 界面1: API配置界面（首次启动强制进入）

**用途**: 首次启动时配置API密钥

**布局**:
```
┌─────────────────────────────────────────────────────────────────────────────┐
│  API配置                                              [×]                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  已配置的API列表                                                              │
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │ 📝 豆包                                      [测试] [编辑] [删除]        ││
│  │ 类型: 文本 | 图像 | 视频                                                ││
│  └─────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
│  [+ 添加API]                                                                 │
│                                                                              │
│  ─────────────────────────────────────────────────────────────────────────   │
│                                                                              │
│  默认API选择                                                                 │
│  文本生成: [豆包 ▼]                                                          │
│  图像生成: [豆包 ▼]                                                          │
│  视频生成: [豆包 ▼]                                                          │
│                                                                              │
│                                              [保存并关闭]                     │
└─────────────────────────────────────────────────────────────────────────────┘
```

**关键元素**:
- 上半部分：已配置的API列表（卡片式）
- 下半部分：默认API选择下拉框
- 按钮：添加API、测试、编辑、删除、保存并关闭

---

### 界面2: 欢迎界面（启动主入口）

**用途**: 启动后选择新建或打开项目

**布局**:
```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                    ⚙️                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│                                                                              │
│                              📽️ 分镜师                                      │
│                                                                              │
│                           AI驱动的分镜制作工具                               │
│                                                                              │
│                                                                              │
│  ┌─────────────────┐        ┌─────────────────┐                             │
│  │                 │        │                 │                             │
│  │   📁 新建项目    │        │   📂 打开文件夹  │                             │
│  │                 │        │                 │                             │
│  └─────────────────┘        └─────────────────┘                             │
│                                                                              │
│                                                                              │
│  最近项目                                                                    │
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │   我的新分镜                                                             ││
│  │   测试项目A                                                              ││
│  │   潘多拉魔盒                                                            ││
│  └─────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

**关键元素**:
- 中央：Logo + 欢迎语 + Slogan
- 两个大按钮：新建项目 / 打开文件夹
- 最近项目列表（最多5个）
- 右上角：设置按钮

---

### 界面3: 主界面（有数据状态）

**用途**: 编辑分镜表的主要工作界面

**MenuBar**:
```
┌─────────────────────────────────────────────────────────────────────────────┐
│  文件 │ 配置 │ 我的新分镜 │ [▦ ▦ ▦] │ [─][□][✕]                              │
│                                                                              │
│  ┌─────────────┐     ┌─────────────────────┐                                │
│  │ 新建项目    │     │ 布局切换             │                                │
│  │ 打开文件夹...│     │ ▦ ▦ ▦ 三栏模式      │                                │
│  │ ─────────   │     │ ▦ ▦   两栏模式       │                                │
│  │ 最近项目   ▶│     │                      │                                │
│  │ ─────────   │     └─────────────────────┘                                │
│  │ 导出Excel...│                                                            │
│  │ ─────────   │     ┌─────────────┐                                       │
│  │ 退出        │     │ 深色/浅色    │                                       │
│  └─────────────┘     └─────────────┘                                       │
└─────────────────────────────────────────────────────────────────────────────┘
```

**左侧标签栏**:
```
┌────────┐
│ 分     │
│ 镜     │ ← 当前选中
│ 表     │   (背景高亮)
│        │
│ 角     │
│ 色     │
│        │
│ 场     │
│ 景     │
│        │
│ 道     │
│ 具     │
└────────┘
```

**中间内容区（分镜表）**:
```
┌─────────────────────────────────────────────────────────────────────────────┐
│  分镜表                                              [+ 新增行]             │
├──────┬────────┬────────┬────────┬────────┬──────────────────────────────────┤
│ 序号 │  镜号  │ 镜头类型│  景别  │  时长  │            画面描述              │
├──────┼────────┼────────┼────────┼────────┼──────────────────────────────────┤
│  1   │   1    │  固定  │  远景  │   5    │  客厅全景，晨光透过窗户...       │
├──────┼────────┼────────┼────────┼────────┼──────────────────────────────────┤
│  2   │   2    │  推近  │  中景  │   3    │  主角从沙发上站起来...           │
├──────┼────────┼────────┼────────┼────────┼──────────────────────────────────┤
│  3   │   3    │  跟拍  │  特写  │   4.5  │  主角的手部特写，拿起杯子...     │
├──────┼────────┼────────┼────────┼────────┼──────────────────────────────────┤
│  4   │   4    │  摇    │  全景  │   6    │  镜头缓缓摇向窗外...             │
└──────┴────────┴────────┴────────┴────────┴──────────────────────────────────┘

                    < 水平滚动条，支持更多列 >
```

**右侧AI对话区**:
```
┌─────────────────────────────────────────────────────────────────────────────┐
│  🤖 AI                                            [隐 藏]                    │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │ 欢迎使用分镜师！请粘贴您的剧本，我将为您生成分镜表。                      ││
│  │                                                                          ││
│  └─────────────────────────────────────────────────────────────────────────┘│
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │ 已为您生成分镜表，共15个分镜。您可以要求我：                               ││
│  │ • 插入新分镜  • 拆分/合并/删除分镜  • 调整顺序                            ││
│  │ • 修改内容  • 批量修改                                                    ││
│  │                                                                          ││
│  └─────────────────────────────────────────────────────────────────────────┘│
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │ ✅ 已将 8号 和 9号 合并为新分镜 8号：                                      ││
│  │ • 8号: 主角起床走到窗边，看向窗外 (8秒)                                    ││
│  │                                                                          ││
│  │ 分镜表已更新，当前共14个分镜。                                             ││
│  └─────────────────────────────────────────────────────────────────────────┘│
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │ 👤 把8号和9号交换一下                                                      ││
│  └─────────────────────────────────────────────────────────────────────────┘│
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │ 🤖 好的，正在交换...                                                      ││
│  └─────────────────────────────────────────────────────────────────────────┘│
├─────────────────────────────────────────────────────────────────────────────┤
│  [请输入消息或粘贴剧本...]                                    [发送 ↑]        │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

### 界面4: 项目设置界面（弹窗）

**用途**: 查看项目元数据和配置

**布局**:
```
┌─────────────────────────────────────────────────────────────────────────────┐
│  项目设置                                                    [关闭]         │
├─────────────────────────────────────────────────────────────────────────────┤
│  📁 项目信息                                                                │
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │  项目名称：我的分镜项目                                                  ││
│  │  项目路径：D:\Projects\我的分镜项目                                      ││
│  │  创建时间：2025-02-05 10:30                                             ││
│  │  最后修改：2025-02-05 15:45                                             ││
│  │  分镜数量：15个                                                         ││
│  │  对话轮数：28轮                                                         ││
│  └─────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
│  ⚙️ 分镜生成配置（V1.0）                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │  💡 V1.0版本分镜由AI自动处理，暂无可配置项。                             ││
│  └─────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
│  🎬 视频生成配置（V2.0）                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │  ⚠️ 以下功能将在V2.0版本推出                                             ││
│  │  ☐ 台词处理方式：[智能判断 ▼]                                           ││
│  │  ☐ 是否生成字幕：[否 ▼]                                                 ││
│  └─────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
│  🔄 自动保存（V1.1）                                                         │
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │  ⚠️ 以下功能将在V1.1版本推出                                             ││
│  │  ☐ 自动保存间隔：[5分钟 ▼]                                              ││
│  └─────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
│                                                                              │
│                                          [关闭]                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

### 界面5: 删除确认弹窗

**用途**: 删除分镜前确认

**布局**:
```
┌─────────────────────────────────────────────────────────────────────────────┐
│  ⚠️ 确认删除                                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│  确认删除以下分镜？                                                          │
│                                                                              │
│  • 8号: 主角从床上坐起的特写 (3秒)                                           │
│  • 9号: 主角走到窗边的远景 (5秒)                                             │
│                                                                              │
│  此操作不可撤销。                                                             │
│                                                                              │
│                                        [取消]  [确认删除]                    │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

### 界面6: 导出成功提示

**用途**: 导出Excel后提示

**布局**:
```
┌─────────────────────────────────────────────────────────────────────────────┐
│  ✅ 导出成功                                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│  已保存到: D:\Projects\我的分镜项目\我的分镜项目.xlsx                        │
│                                                                              │
│                                        [确定]                                │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. 组件设计规范

### 4.1 表格组件

**状态**:
- **普通状态**: 白色背景，灰色边框
- **悬停状态**: 浅蓝色背景
- **编辑状态**: 蓝色边框 + 高亮背景
- **选中状态**: 蓝色边框

**交互**:
- 双击进入编辑
- Tab键横向跳转
- Enter键纵向跳转
- Esc键取消编辑

### 4.2 按钮组件

| 类型 | 样式 | 用途 |
|------|------|------|
| **主按钮** | 蓝色背景，白色文字 | 主要操作（新建、保存等） |
| **次要按钮** | 白色背景，蓝色边框 | 次要操作（取消、关闭等） |
| **危险按钮** | 红色背景，白色文字 | 危险操作（删除） |
| **文字按钮** | 无背景，蓝色文字 | 辅助操作（编辑、测试） |
| **图标按钮** | 图标 + 悬停效果 | 工具栏按钮 |

### 4.3 输入框组件

- 默认状态：灰色边框
- 聚焦状态：蓝色边框
- 错误状态：红色边框 + 错误提示

### 4.4 对话气泡组件

| 类型 | 样式 |
|------|------|
| **AI消息** | 浅灰色背景，左对齐，有AI图标 |
| **用户消息** | 蓝色背景，白色文字，右对齐 |
| **系统消息** | 浅蓝色背景，居中，无图标 |
| **错误消息** | 浅红色背景，警告图标 |

---

## 5. 主题规范

### 5.1 浅色主题（默认）

| 元素 | 颜色 |
|------|------|
| **主色调** | #2196F3（蓝色） |
| **背景色** | #FFFFFF（白色） |
| **次要背景** | #F5F5F5（浅灰） |
| **边框色** | #E0E0E0（中灰） |
| **文字主色** | #212121（深灰） |
| **文字次色** | #757575（中灰） |
| **成功色** | #4CAF50（绿色） |
| **警告色** | #FF9800（橙色） |
| **错误色** | #F44336（红色） |

### 5.2 深色主题

| 元素 | 颜色 |
|------|------|
| **主色调** | #2196F3（蓝色） |
| **背景色** | #1E1E1E（深灰） |
| **次要背景** | #2D2D2D（中灰） |
| **边框色** | #3D3D3D（灰） |
| **文字主色** | #E0E0E0（浅灰） |
| **文字次色** | #B0B0B0（中灰） |
| **成功色** | #4CAF50（绿色） |
| **警告色** | #FF9800（橙色） |
| **错误色** | #F44336（红色） |

### 5.3 字体规范

| 元素 | 字体 | 大小 |
|------|------|------|
| **标题** | Microsoft YaHei / PingFang SC | 16px Bold |
| **正文** | Microsoft YaHei / PingFang SC | 14px Regular |
| **小字** | Microsoft YaHei / PingFang SC | 12px Regular |
| **表格** | Consolas / monospace（数字） | 13px Regular |

---

## 6. 图标需求

| 图标 | 用途 |
|------|------|
| `≡` 或 `☰` | 菜单 |
| `⚙️` | 设置 |
| `+` | 新增 |
| `×` 或 `✕` | 关闭 |
| `─` | 最小化 |
| `□` | 最大化 |
| `📁` | 文件夹 |
| `📂` | 打开文件夹 |
| `💾` | 保存 |
| `📝` | 编辑 |
| `🗑️` | 删除 |
| `🤖` | AI助手 |
| `👤` | 用户 |
| `✅` | 成功 |
| `⚠️` | 警告 |
| `❌` | 错误 |
| `📊` | 表格/分镜表 |
| `🎬` | 视频/场景 |
| `👤` | 角色 |
| `🎬` | 场景 |
| `🔧` | 道具 |
| `▦ ▦ ▦` | 三栏模式 |
| `▦ ▦` | 两栏模式 |

---

## 7. 响应式与适配

### 7.1 窗口大小

- **最小窗口**: 1200 × 700 px
- **推荐窗口**: 1440 × 900 px
- **最大化**: 自适应屏幕

### 7.2 滚动行为

- 表格：横向滚动 + 纵向滚动
- 对话区：纵向滚动
- 固定MenuBar和标签栏

---

## 8. 动画与过渡

| 交互 | 动画效果 |
|------|----------|
| **打开弹窗** | 淡入 + 缩放（200ms） |
| **关闭弹窗** | 淡出 + 缩放（150ms） |
| **切换Tab** | 滑动（150ms） |
| **悬停** | 背景色渐变（100ms） |
| **加载中** | 旋转圆圈或骨架屏 |
| **表格编辑** | 边框闪烁（100ms） |

---

## 9. 无障碍与可用性

### 9.1 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl + S` | 保存/导出 |
| `Ctrl + N` | 新建项目 |
| `Ctrl + O` | 打开文件夹 |
| `Ctrl + E` | 导出Excel |
| `Ctrl + ,` | 打开设置 |
| `Tab` | 下一个单元格 |
| `Shift + Tab` | 上一个单元格 |
| `Enter` | 确认/下一行 |
| `Esc` | 取消/关闭弹窗 |
| `Delete` | 删除选中行 |

### 9.2 状态反馈

- 所有操作必须有明确的视觉反馈
- 加载状态必须有动画提示
- 错误信息必须明确指出问题和解决方案

---

## 10. 设计交付物清单

- [ ] 界面1: API配置界面
- [ ] 界面2: 欢迎界面
- [ ] 界面3: 主界面（三栏模式 + 两栏模式）
- [ ] 界面4: 项目设置界面
- [ ] 界面5: 删除确认弹窗
- [ ] 界面6: 导出成功提示
- [ ] 组件库：表格、按钮、输入框、对话气泡
- [ ] 浅色主题完整稿
- [ ] 深色主题完整稿
- [ ] 图标资源

---

*文档版本: V1.0*
*创建时间: 2025-02-05*
*基于: PRD-001.md*
